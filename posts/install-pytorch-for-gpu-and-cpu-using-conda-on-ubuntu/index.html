<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Install Pytorch for GPU and CPU using Conda on Ubuntu | Richard&#39;s sogni d&#39;oro</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="Set up virtual environment for pytorch using conda on Ubuntu">

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">

<meta name="generator" content="Hugo 0.146.4">



<link rel="stylesheet" href="/css/style.css">


<script data-ad-client="ca-pub-3246815983951661" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


  
    
    <link rel="stylesheet" href="https://richard-cokecola.github.io/css/chat.css">
  


<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

 
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HQLWYE4FVQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HQLWYE4FVQ');
</script>



  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>




  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">←</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Install Pytorch for GPU and CPU using Conda on Ubuntu</h1>

    <div class="tip">
        <span>
          Jun 17, 2021 10:21
        </span>
        <span class="split">
          ·
        </span>
        <span>
          
            245 words
          
        </span>
        <span class="split">
          ·
        </span>
        <span>
          2 minute read
        </span>
    </div>

    
    
        <aside class="toc">
  <details>
      <summary>Table of Contents
      </summary>
      <div>
          <nav id="TableOfContents">
  <ul>
    <li><a href="#why-virtual-environment-is-needed">Why virtual environment is needed?</a></li>
    <li><a href="#set-up-virtual-environment-for-pytorch-using-conda">Set up virtual environment for pytorch using conda</a></li>
  </ul>
</nav>
      </div>
  </details>
</aside>
    


    <div class="content">
      <h2 id="why-virtual-environment-is-needed">Why virtual environment is needed? <a href="#why-virtual-environment-is-needed" class="anchor"></a></h2><p>It is very common in deep learning that each project has different dependency requirements, which makes environment management important. Conda can help us set multiple virtual environments and keep them independent from each other. Thus, all of your ML projects can run smoothly.</p>
<h2 id="set-up-virtual-environment-for-pytorch-using-conda">Set up virtual environment for pytorch using conda <a href="#set-up-virtual-environment-for-pytorch-using-conda" class="anchor"></a></h2><ol>
<li>
<p><strong>Install Anaconda or Miniconda depends on your taste.</strong></p>
<p>Go to anaconda or miniconda&rsquo;s website and download the .sh file for your system. Go into the terminal use &ldquo;chmod +x filename&rdquo; command to the .sh file then run it. Always click yes to finish installation.</p>
</li>
<li>
<p><strong>Install jupyter</strong></p>
<p>conda install -y jupyter</p>
</li>
<li>
<p><strong>Create the enviroment named torch</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>conda create --name torch <span style="color:#b8860b">python</span><span style="color:#666">=</span>3.8
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"># created a conda enviroment named &#39;torch&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"># If you use cpu only, you need to change it to python 3.7</span>
</span></span><span style="display:flex;"><span>conda create --name torch <span style="color:#b8860b">python</span><span style="color:#666">=</span>3.7
</span></span></code></pre></div><p>After finished, reopen the terminal</p>
</li>
<li>
<p><strong>Activate enviroment</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>conda activate torch
</span></span><span style="display:flex;"><span>conda install nb_conda
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"># Add conda env to jupyter notebook</span>
</span></span><span style="display:flex;"><span>python -m ipykernel install --user --name myenv --display-name <span style="color:#b44">&#34;Python (myenv)&#34;</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Install Pytorch</strong></p>
<p>You can go check <a href="https://pytorch.org/get-started/locally/" target="_blank" rel="noopener">Pytorch&rsquo;s website</a> to see all the installation options.</p>
<ul>
<li>
<p>CPU and GPU:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>conda install pytorch torchvision torchaudio <span style="color:#b8860b">cudatoolkit</span><span style="color:#666">=</span>11.1 -c pytorch -c nvidia
</span></span></code></pre></div></li>
<li>
<p>CPU only:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>conda install pytorch torchvision torchaudio cpuonly -c pytorch
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p><strong>Install other libraries</strong></p>
<div class="chat-container"><div class="chat-message chat-message-ai">
        <div class="chat-message-name">dependencies</div>
        <div class="chat-message-content"><ul>
<li>jupyter</li>
<li>scikit-learn</li>
<li>scipy</li>
<li>pandas</li>
<li>pandas-datareader</li>
<li>matplotlib</li>
<li>pillow</li>
<li>tqdm</li>
<li>requests</li>
<li>h5py</li>
<li>pyyaml</li>
<li>flask</li>
<li>boto3</li>
<li>pip:</li>
<li>bayesian-optimization</li>
<li>gym</li>
<li>kaggle</li>
</ul>
</div>
      </div></div>

<p>Or, if there is any requirements.txt, just use</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install -r requirements.txt
</span></span></code></pre></div></li>
</ol>
<p><strong>Reference:</strong></p>
<p><a href="https://github.com/jeffheaton/t81_558_deep_learning/blob/master/install/pytorch-install-jul-2020.ipynb" target="_blank" rel="noopener">https://github.com/jeffheaton/t81_558_deep_learning/blob/master/install/pytorch-install-jul-2020.ipynb</a></p>
<p><a href="https://pytorch.org/get-started/locally/" target="_blank" rel="noopener">https://pytorch.org/get-started/locally/</a></p>

    </div>

    
        <div class="tags">
            
                <a href="https://richard-cokecola.github.io/tags/tutorial"> Tutorial </a>
            
                <a href="https://richard-cokecola.github.io/tags/ai">AI</a>
            
        </div>
    
    
    
  <div id="comment">
    
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-richard-cokecola-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>


</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
        An engineer who is interested in AI, music, cooking, and some other things. You can contact me via email: <a href="mailto:richardwei@protonmail.com">richardwei@protonmail.com</a>
    
    </div>

    
      <div class="powerby">
        Site by <a href="https://richard-cokecola.github.io">Richard</a> Theme By <a href="https://github.com/nodejh/hugo-theme-cactus-plus">nodejh</a>
      </div>
    
</footer>



  </body>
</html>
